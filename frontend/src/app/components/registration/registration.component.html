<header class="bg-dark py-3">  
    <div class="container-lg">
      <a role="button" class="text-white text-decoration-none fs-4" href="/registration">Expense Tracker</a>
    </div>     
</header>

<div class="d-flex justify-content-center align-items-center py-4 ">
    <div class="card p-4 shadow-lg" style="max-width: 400px; width: 100%;">
        <h2 class="card-title text-center mb-4">Register</h2>
        <form [formGroup]="form">
            <div class="mb-3">
                <label for="firstname" class="form-label">First Name*</label>
                <input formControlName="firstname" type="text" class="form-control" id="firstname" placeholder="Enter your first name" required>
                @if (form.get("firstname").touched && form.get('firstname').errors) {
                  @if (form.get("firstname").errors["required"]) {
                    <mat-error>First Name is required</mat-error>
                  } @else if (form.get("firstname").errors["minlength"]) {
                    <mat-error>First Name must be at least 3 characters long</mat-error>
                  } @else if (form.get("firstname").errors["maxlength"]) {
                    <mat-error>First Name cannot be more than 16 characters long</mat-error>
                  }
                }
            </div>
            <div class="mb-3">
                <label for="lastname" class="form-label">Last Name*</label>
                <input formControlName="lastname" type="text" class="form-control" id="lastname" placeholder="Enter your last name" required>
                @if (form.get("lastname").touched && form.get("lastname").errors) {
                  @if (form.get("lastname").errors["required"]) {
                    <mat-error>Last Name is required</mat-error>
                  } @else if (form.get("lastname").errors["minlength"]) {
                    <mat-error>Last Name must be at least 3 characters long</mat-error>
                  } @else if (form.get("lastname").errors["maxlength"]) {
                    <mat-error>Last Name cannot be more than 16 characters long</mat-error>
                  }
                }
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email address*</label>
                <input formControlName="email" type="email" class="form-control" id="email" placeholder="Enter your email" required>
                  @if (form.get("email").touched && form.get("email").errors) {
                    @if (form.get("email").errors["duplicateEmail"]) {
                      <mat-error>Email is already registered</mat-error>
                    } @else if (form.get("email").errors["required"]) {
                       <mat-error>Email is required</mat-error>
                    } @else if (form.get("email").errors["email"]) {
                       <mat-error>Invalid email format</mat-error>
                    } @else if (form.get("email").errors["pattern"]) {
                       <mat-error>Invalid email pattern</mat-error>
                    }                                         
                  }
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password*</label>
                <input formControlName="password" type="password" class="form-control" id="password" placeholder="Enter your password" required>
                @if (form.get("password").touched && form.get("password").errors) {
                  @if (form.get("password").errors["required"]) {
                     <mat-error>Password is required</mat-error>
                  } @else if (form.get("password").errors["minlength"]) {
                     <mat-error>Password must be at least 8 characters long</mat-error>
                  } @else if (form.get("password").errors["pattern"]) {
                     <mat-error>Password must contain at least one capital letter, one digit and one symbol</mat-error>
                  }                                         
                }
            </div>
            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm Password*</label>
                <input formControlName="confirmPassword" type="password" class="form-control" id="confirmPassword" placeholder="Confirm your password" required>
                @if (form.get("confirmPassword").touched && form.get("confirmPassword").errors) {
                  @if (form.get("confirmPassword").errors["passwordMismatch"]) {
                    <mat-error>Passwords do not match</mat-error>
                  } @else if (form.get("password").invalid && form.get("password").touched) {
                    <mat-error>Password is missing or invalid</mat-error>
                  }
                }                
            </div>
            <button type="submit" class="btn btn-primary w-100" [disabled]="form.invalid" (click)="onSubmit(form.value)">Register</button>
            <p class="text-center mt-3">Already have an account? <a role="button" routerLink="/login">Login</a></p>
        </form>        
    </div>
</div>

<footer class="bg-dark py-1 ">
    <div class="container-lg d-flex justify-content-between align-items-center">
      <p class="text-white mb-0">Copyright &copy; Expense Tracker. All rights reserved, 2023</p>
      <div class="social-icons">
        <a class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
        <a class="text-white me-3"><i class="fab fa-twitter-square"></i></a>
        <a class="text-white"><i class="fab fa-instagram"></i></a>
      </div>
    </div>  
  </footer>
